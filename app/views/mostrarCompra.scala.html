@import model.Compra
@import controllers.routes.Application

@(compra: Compra)

@main(s"Check in productos de ${compra.comprador.nombre} ${compra.comprador.apellido}") {

    <h2>Check in productos de @compra.comprador.nombre @compra.comprador.apellido</h2>

    <table>
        <thead>
            <tr>
                <th>Id</th>
                <th>Descripcion</th>
                <th>Precio</th>
            </tr>
        </thead>
        <tbody>
        @for(producto <- compra.productos){
            <tr>
                <td>@producto.id</td>
                <td>@producto.descripcion</td>
                <td>@producto.precio</td>
        }
        </tbody>
    </table>
    <div>
        <div><h3>Total Compra</h3></div>
    <div>@compra.getTotalCompra()</div>
        @if(compra.estaCompleta){
            <div><h3>La compra ya ha sido completada</h3></div>
        }else{
            @helper.form(action = helper.CSRF(Application.completarCompra(compra.id))){
                <button type="submit">Comprar</button>
            }
        }
    </div>


}